import json
import time
import sqlite3
import threading

DB_STRING = "users.db"
listen_ip = "0.0.0.0" # 127.0.0.1 = localhost (loopback address), use 0.0.0.0 for local machine access
listen_port = 10001

class Comms(object):





    def displayMessage(self):
        c = sqlite3.connect(DB_STRING)
        cur = c.cursor()
        cur.execute("SELECT sender, msg, stamp FROM msg")
        msg_list = cur.fetchall()
        print(msg_list)
        return str(msg_list)
        # string = str(user_list).strip('[]').replace("(u'","").replace("',)","") #  remove extra formatting from being a tuple of tuples
        # return string

    def jsonEncode(sender, message, destination):
        output_dict = { "sender": sender, "message": message, "destination": destination}
        data = json.dumps(output_dict)
        return data
